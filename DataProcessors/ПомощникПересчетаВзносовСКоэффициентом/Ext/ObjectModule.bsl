Процедура Автозаполнение() Экспорт
	
	Запрос = Новый Запрос();
	
	Запрос.УстановитьПараметр("Организация", Организация);
	Запрос.УстановитьПараметр("РасчетныйПериод", РасчетныйПериод);
	Запрос.УстановитьПараметр("КоэффициентСтавки", ?(КоэффициентСтавки = 0,1,КоэффициентСтавки));
	
	Запрос.Текст = 
	   "ВЫБРАТЬ РАЗРЕШЕННЫЕ
	   |	ИСТИНА КАК Отметка,
	   |	ВзносыВФонды.ПериодРегистрации,
	   |	ВзносыВФонды.Регистратор КАК Документ,
	   |	ВзносыВФонды.БазовыйПериодНачало,
	   |	ВзносыВФонды.Сотрудник,
	   |	ВзносыВФонды.Организация,
	   |	ВзносыВФонды.База,
	   |	ВзносыВФонды.БазаВзноса,
	   |	ВзносыВФонды.Результат,
	   |	ВзносыВФонды.Налог,
	   |	ВзносыВФонды.НомерПорога,
	   |	ВзносыВФонды.СтатьяНалоговойДекларации,
	   |	ВзносыВФонды.Ставка,
	   |	ВзносыВФонды.КоэффициентСтавки,
	   |	ВзносыВФонды.БазаВзноса*ВзносыВФонды.Ставка*&КоэффициентСтавки КАК РезультатНовый,
	   |	ВзносыВФонды.БазаВзноса*ВзносыВФонды.Ставка*&КоэффициентСтавки - ВзносыВФонды.Результат  КАК Разница
	   |ИЗ
       |	РегистрРасчета.ВзносыВФонды КАК ВзносыВФонды
	   |ГДЕ
	   |    ВзносыВФонды.Организация = &Организация
	   |    И ВзносыВФонды.Авторасчет
	   |    И ВзносыВФонды.ПериодРегистрации = &РасчетныйПериод
	   |    И ВзносыВФонды.КоэффициентСтавки <> &КоэффициентСтавки
	   |    И ВзносыВФонды.КоэффициентСтавки <> 0
	   |    И ВзносыВФонды.БазаВзноса <> 0
	   |";
	   
	Результат = Запрос.Выполнить();
	
	ВзносыФОТ.Загрузить(Результат.Выгрузить());
	
	Для Каждого СтрокаВзносы из ВзносыФОТ Цикл
		
			СтрокаВзносы.РезультатНовый = Окр(СтрокаВзносы.БазаВзноса * Окр(СтрокаВзносы.Ставка*?(КоэффициентСтавки = 0,1,КоэффициентСтавки),5),2);
			СтрокаВзносы.Разница = СтрокаВзносы.РезультатНовый - СтрокаВзносы.Результат;
		
	КонецЦикла;	
	   
	
КонецПроцедуры	